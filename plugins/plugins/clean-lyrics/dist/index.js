var g=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var N=Object.prototype.hasOwnProperty;var k=(t,e)=>()=>(t&&(e=t(t=0)),e);var P=(t,e)=>{for(var r in e)g(t,r,{get:e[r],enumerable:!0})},R=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of A(e))!N.call(t,a)&&a!==r&&g(t,a,{get:()=>e[a],enumerable:!(n=I(e,a))||n.enumerable});return t};var _=t=>R(g({},"__esModule",{value:!0}),t);var C={};P(C,{Tracer:()=>p,libTrace:()=>q});import{actions as h}from"@neptune";var p,q,b=k(()=>{"use strict";p=t=>{let e=l=>{let i=(...c)=>{l(t,...c)};return i.withContext=c=>(...y)=>{l(t,c,...y)},i},r=e(console.log),n=e(console.warn),a=e(console.error),s=e(console.debug),o=(l,i,c)=>{let y=d=>{l(d),i({message:`${t} - ${d}`,category:"OTHER",severity:c})};return y.withContext=d=>{let w=l.withContext(d);return m=>{w(m),m instanceof Error&&(m=m.message),i({message:`${t}.${d} - ${m}`,category:"OTHER",severity:c})}},y};return{log:r,warn:n,err:a,debug:s,msg:{log:o(r,h.message.messageInfo,"INFO"),warn:o(n,h.message.messageWarn,"WARN"),err:o(a,h.message.messageError,"ERROR")}}},q=p("[lib]")});b();import{intercept as O}from"@neptune";function T(t,e){let r=document.querySelector('[class*="moreContainer--"]');if(r){let n=document.createElement("button");n.style.height="32px",n.style.width="32px",n.style.display="flex",n.style.border="none",n.style.backgroundColor="transparent",n.style.verticalAlign="middle";let a=document.createElement("img");a.src=e,a.style.backgroundColor="transparent",n.onclick=t,n.appendChild(a),r.appendChild(n)}}b();var L=p("[Clean Lyrics]"),D="https://raw.githubusercontent.com/ItzzExcel/neptune-projects/refs/heads/main/plugins/plugins/clean-lyrics/src/lyrics-styles.css",x,u;function M(){let t=document.querySelector('div[class*="textContainer--"] > a > span');t&&t.addEventListener("DOMSubtreeModified",()=>{setTimeout(()=>{f()},300)})}function S(t){let e=document.createElement("style");return e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.head.appendChild(e),e}function U(){u&&u.parentNode&&u.parentNode.removeChild(u)}async function $(t){try{let e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.text()}catch(e){return L.msg.err(`Failed to fetch URL: ${e.message}`),null}}var f=function(t=0){t===1&&setTimeout(()=>{f()},2e3);let e=document.querySelector('figure[class*="albumImage"] > div > div > div > img'),r;e&&(r=e.src,r=r.replace(/\d+x\d+/,"1280x1280"),e.src=r);let n=document.querySelector('[class*="nowPlayingContainer"]');if(n&&r){n.querySelectorAll(".corner-image").forEach(l=>l.remove());let s=document.createElement("img");s.src=r,s.className="corner-image",s.style.position="absolute",s.style.left="50%",s.style.top="50%",s.style.transform="translate(-50%, -50%)",s.style.width="75vw",s.style.height="150vh",s.style.objectFit="cover",s.style.zIndex="-1",s.style.filter="blur(100px) brightness(0.6) contrast(1.2) saturate(1)",s.style.animation="spin 35s linear infinite",n.appendChild(s);let o=document.createElement("img");if(o.src=r,o.className="corner-image",o.style.position="absolute",o.style.left="50%",o.style.top="50%",o.style.transform="translate(-50%, -50%)",o.style.width="75vw",o.style.height="150vh",o.style.objectFit="cover",o.style.zIndex="-1",o.style.filter="blur(100px) brightness(0.6) contrast(1.2) saturate(1)",o.style.animation="spin 35s linear infinite",n.appendChild(o),!document.querySelector("#spinAnimation")){let l=document.createElement("style");l.id="spinAnimation",l.textContent=`
                @keyframes spin {
                    from { transform: translate(-50%, -50%) rotate(0deg); }
                    to { transform: translate(-50%, -50%) rotate(360deg); }
                }
            `,document.head.appendChild(l)}}},H=function(){[...document.getElementsByClassName("corner-image")].forEach(t=>{t.remove()})},B=["playbackControls/PREFILL_MEDIA_PRODUCT_TRANSITION","playbackControls/MEDIA_PRODUCT_TRANSITION","playbackControls/SEEK","playbackControls/SET_PLAYBACK_STATE","playbackControls/TIME_UPDATE"];(async()=>(x=await $(D),u=S(x)))();M();var v=!1,z=`
    [data-test="close-now-playing"],
    [data-test="request-fullscreen"],
    [role="tablist"],
    [data-test="search-popover-container"] {
        display: none;
    }

    [data-test="footer-player"] {
        visibility: hidden;
        transition: visibility 0.2s ease-in-out;
    }

    [data-test="footer-player"]:hover {
        visibility: visible;
    }
`,E;function j(){if(document.fullscreenElement)E&&E.remove(),document.exitFullscreen(),v=!1;else{document.documentElement.requestFullscreen();let t=document.querySelector('[data-test="footer-player"]');E=S(z),v=!0}}T(j,"https://cdn.discordapp.com/attachments/1286571643807731783/1343838074441830491/image.png?ex=67beba3c&is=67bd68bc&hm=7474cc11cf3d17ece9dd532ef3ac003273662b95c4fdccacc06ed85a9cbec035&");var K=B.map(t=>O(t,f));function X(){U(),K.forEach(e=>e()),H();let t=document.querySelector('div[class*="textContainer--"] > a > span');t&&t.removeEventListener("DOMSubtreeModified",f)}export{X as onUnload};
